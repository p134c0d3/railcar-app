<html>
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
  />
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
  />
  <body>
    <div class="container">
      <h3>List of Rail Cars</h3>
      <div>
        <a class="btn btn-outline-primary" routerLink="/cars/new">Add Car</a>
        <a class="btn btn-outline-secondary mb-3"><select [(ngModel)]="selectedCompany" (change)="filterByCompany(selectedCompany)">
          <option value='' selected>Choose Company</option>
          @for (item of this.company; track item){
          <option value="{{ item }}">{{ item }}</option>
          }
        </select></a>
        <a class="btn btn-outline-secondary mb-3"><select [(ngModel)]="selectedItem" (change)="filterByMaterial(selectedItem)">
          <option value='' selected>Choose Raw Material</option>
          @for (item of this.materials; track item){
          <option value="{{ item.material_name }}">{{ item.material_name }}</option>
          }
        </select></a>
        <a>
          <div class="form-check form-check-inline">
            <input class="btn-check" type="radio" name="inlineRadio" [(ngModel)]="filterMod" id="inlineRadio1" value="1" (change)="filterModify()">
            <label class="btn btn-outline-secondary mb-3" for="inlineRadio1">Rec'd</label>

            <input class="btn-check" type="radio" name="inlineRadio" [(ngModel)]="filterMod" id="inlineRadio2" value="2" (change)="filterModify()">
            <label class="btn btn-outline-secondary mb-3" for="inlineRadio2">Not Rec'd</label>

            <input class="btn-check" type="radio" name="inlineRadio" [(ngModel)]="filterMod" id="inlineRadio3" value="3" (change)="filterModify()">
            <label class="btn btn-outline-secondary mb-3" for="inlineRadio3">Start Extract</label>

            <input class="btn-check" type="radio" name="inlineRadio" [(ngModel)]="filterMod" id="inlineRadio4" value="4" (change)="filterModify()">
            <label class="btn btn-outline-secondary mb-3" for="inlineRadio4">Emptied</label>

            <input class="btn-check" type="radio" name="inlineRadio" [(ngModel)]="filterMod" id="inlineRadio5" value="5" (change)="filterModify()">
            <label class="btn btn-outline-secondary mb-3" for="inlineRadio5">Released</label>
          </div>
        </a>
        <a class="btn btn-outline-secondary mb-3" (click)="resetFilters()">Reset</a>
      </div>
      <div>
        <table class="table table-hover">
          <thead class="table-light">
            <tr>
              <th
                scope="col"
                class="sort-header"
                (click)="sortData('carNumber')"
              >
                Car
              </th>
              <th scope="col" class="sort-header" (click)="sortData('weight')">
                Weight (lbs)
              </th>
              <th
                scope="col"
                class="sort-header"
                (click)="sortData('receivedDate')"
              >
                Requested
              </th>
              <th
                scope="col"
                class="sort-header"
                (click)="sortData('receivedDate')"
              >
                Received
              </th>
              <th
                scope="col"
                class="sort-header"
                (click)="sortData('extractionStartDate')"
              >
                Extraction Date
              </th>
              <th
                scope="col"
                class="sort-header"
                (click)="sortData('emptiedDate')"
              >
                Emptied
              </th>
              <th
                scope="col"
                class="sort-header"
                (click)="sortData('releasedDate')"
              >
                Released
              </th>
              <th
                scope="col"
                class="sort-header"
                (click)="sortData('rawMaterial')"
              >
                Raw Material
              </th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            @for (car of cars; track car.id) {
            <tr>
              <!-- <td>{{ car.carNumber }}</td> -->
              <td>{{ car.car_number }}</td>
              <td>{{ car.weight }}</td>
              <td>{{ car.requested_date || '-'}}</td>
              <td>{{ car.received_date || '-'}}</td>
              <td>{{ car.extraction_start_date || '-'}}</td>
              <td>{{ car.emptied_date || '-'}}</td>
              <td>{{ car.released_date || '-'}}</td>
              <td>{{ car.raw_material.material_name }}</td>
              <td>
                <a
                  class="material-symbols-outlined"
                  edit
                  data-toggle="popover"
                  title="Edit"
                  data-placement="left"
                  (click)="onEditCar(car.id)"
                  >Edit</a
                >
                <a
                  class="material-symbols-outlined"
                  delete
                  data-toggle="popover"
                  title="Delete"
                  data-placement="right"
                  (click)="onDeleteCar(car.id)"
                >
                  delete
                </a>
              </td>
            </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  </body>
</html>

<!--

  <tbody>
            <tr>
              <td>VTGX017400</td>
              <td>185,214</td>
              <td>5/6/2024</td>
              <td>None</td>
              <td>None</td>
              <td>None</td>
              <td>None</td>
              <td>Corn Syrup</td>
              <td>
                <a
                  class="material-symbols-outlined"
                  edit
                  data-toggle="popover"
                  title="Edit"
                  data-placement="left"
                  >Edit</a
                >
                <a
                  class="material-symbols-outlined"
                  delete
                  data-toggle="popover"
                  title="Delete"
                  data-placement="right"
                  >Delete</a
                >
              </td>
            </tr>
            <tr>
              <td>UTLX064972</td>
              <td>185,215</td>
              <td>05/06/2024</td>
              <td>None</td>
              <td>None</td>
              <td>None</td>
              <td>None</td>
              <td>Sucralose</td>
              <td>
                <a
                  class="material-symbols-outlined"
                  edit
                  data-toggle="popover"
                  title="Edit"
                  data-placement="left"
                  >edit</a
                >
                <a
                  class="material-symbols-outlined"
                  delete
                  data-toggle="popover"
                  title="Delete"
                  data-placement="right"
                >
                  delete
                </a>
              </td>
            </tr>
            <tr>
              <td>UTLX601220</td>
              <td>185,145</td>
              <td>4/15/2024</td>
              <td>4/18/2024</td>
              <td>None</td>
              <td>None</td>
              <td>None</td>
              <td>AMS</td>
              <td>
                <a
                  class="material-symbols-outlined"
                  edit
                  data-toggle="popover"
                  title="Edit"
                  data-placement="left"
                  >edit</a
                >
                <a
                  class="material-symbols-outlined"
                  delete
                  data-toggle="popover"
                  title="Delete"
                  data-placement="right"
                >
                  delete
                </a>
              </td>
            </tr>
            <tr>
              <td>GATX004461</td>
              <td>185,210</td>
              <td>4/15/2024</td>
              <td>4/19/2024</td>
              <td>None</td>
              <td>None</td>
              <td>None</td>
              <td>Corn Syrup</td>
              <td>
                <a
                  class="material-symbols-outlined"
                  edit
                  data-toggle="popover"
                  title="Edit"
                  data-placement="left"
                  >edit</a
                >
                <a
                  class="material-symbols-outlined"
                  delete
                  data-toggle="popover"
                  title="Delete"
                  data-placement="right"
                >
                  delete
                </a>
              </td>
            </tr>
            <tr>
              <td>UTLX601250</td>
              <td>185,315</td>
              <td>4/15/2024</td>
              <td>None</td>
              <td>None</td>
              <td>None</td>
              <td>None</td>
              <td>Sucralose</td>
              <td>
                <a
                  class="material-symbols-outlined"
                  edit
                  data-toggle="popover"
                  title="Edit"
                  data-placement="left"
                  >edit</a
                >
                <a
                  class="material-symbols-outlined"
                  delete
                  data-toggle="popover"
                  title="Delete"
                  data-placement="right"
                >
                  delete
                </a>
              </td>
            </tr>
            <tr>
              <td>UTLX600085</td>
              <td>185,132</td>
              <td>4/15/2024</td>
              <td>4/17/2024</td>
              <td>None</td>
              <td>None</td>
              <td>None</td>
              <td>AMS</td>
              <td>
                <a
                  class="material-symbols-outlined"
                  edit
                  data-toggle="popover"
                  title="Edit"
                  data-placement="left"
                  >edit</a
                >
                <a
                  class="material-symbols-outlined"
                  delete
                  data-toggle="popover"
                  title="Delete"
                  data-placement="right"
                >
                  delete
                </a>
              </td>
            </tr>
          </tbody>
 -->
